<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Josh‚Äôs Bar Crawl Clue Game</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      max-width: 900px;
      margin: auto;
      background: #f9f9f9;
    }

    h1 {
      text-align: center;
    }

    h2 {
      margin-top: 40px;
      color: #444;
      border-bottom: 2px solid #ccc;
      padding-bottom: 5px;
    }

    .section {
      background: #fff;
      padding: 20px;
      border-radius: 8px;
      margin-top: 20px;
      box-shadow: 0 0 10px rgba(0,0,0,0.05);
    }

    .question-btn {
      margin: 6px;
      padding: 10px 15px;
      border: none;
      border-radius: 4px;
      background: #007bff;
      color: white;
      font-size: 14px;
      cursor: pointer;
    }

    .question-btn:disabled {
      cursor: not-allowed;
      background: #ccc;
    }

    .clue {
      margin-top: 8px;
      padding-left: 10px;
      color: green;
      display: none;
    }
  </style>
</head>
<body>

  <h1>üîç Josh‚Äôs Bar Crawl Clue Game</h1>
  <p style="text-align: center;">Answer questions to unlock clues! You only get <strong>3 tries per question</strong> ‚Äì make them count.</p>

  <div id="easy" class="section">
    <h2>‚úÖ Easy Clues</h2>
  </div>

  <div id="medium" class="section">
    <h2>‚ö†Ô∏è Medium Clues</h2>
  </div>

  <div id="hard" class="section">
    <h2>üî• Hard Clues</h2>
  </div>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    const questions = [
      // ‚úÖ EASY CLUES
      { level: "easy", q: "Josh‚Äôs Favorite Movie", a: "blue streak", clue: "The bar is not Felix" },
      { level: "easy", q: "Josh‚Äôs Favorite Song", a: "fourfive seconds", clue: "The furthest north we will go in the bar crawl is Pink Bellies" },
      { level: "easy", q: "Josh‚Äôs Current Celebrity Crush", a: "carrie underwood", clue: "The bar is not Ritual or by Calhoun St for that matter" },
      { level: "easy", q: "Josh‚Äôs Favorite Sports University", a: "alabama", clue: "The furthest south we will go in the crawl is Ritual" },
      { level: "easy", q: "Restaurant with Josh‚Äôs Favorite Pizza", a: "evo", clue: "The name of the bar is in the lyrics of one of Rihanna, Hozier, or Leon Bridges‚Äô songs" },
      { level: "easy", q: "Josh‚Äôs Most Played Video Game this Year", a: "fortnite", clue: "The bar has beer" },
      { level: "easy", q: "African country Josh lived in for 1 month", a: "kenya", clue: "The bar we will begin at is on King St" },
      { level: "easy", q: "Josh‚Äôs Favorite Alabama QB", a: "bryce young", clue: "The bar does not have a history of being racist, although I‚Äôd like to go to that place on the crawl" },

      // ‚ö†Ô∏è MEDIUM CLUES
      { level: "medium", q: "Josh‚Äôs Second Favorite Movie", a: "21 jump street", clue: "It is not uncommon for Booze Pops to be sold near the entrance to the entrance" },
      { level: "medium", q: "Josh‚Äôs Second Favorite Song", a: "unwritten", clue: "The bar is not the Belmont" },
      { level: "medium", q: "Josh‚Äôs Childhood Celebrity Crush", a: "selena gomez", clue: "One of Josh‚Äôs favorite Espresso Martinis is a bar that you can use Blackbird at." },
      { level: "medium", q: "Josh‚Äôs Favorite Professional Team", a: "philadelphia eagles", clue: "If you know where one of Josh‚Äôs favorite Espresso Martinis is, the bar you need to go to is setup in a similar fashion" },
      { level: "medium", q: "Josh‚Äôs Second Favorite Pizza Place", a: "mellow mushroom", clue: "Josh went to this bar the same day after running the Kiawah Marathon with Evey" },
      { level: "medium", q: "Brand of Josh‚Äôs Backpack Since the 7th Grade", a: "under armour", clue: "The address of the Bar is a composite, even, and refactorable number" },
      { level: "medium", q: "European Country Josh lived in for 1 month", a: "latvia", clue: "The Bar has between a 4.3 and 4.7 rating on Google" },
      { level: "medium", q: "First Name of Josh‚Äôs 70 year old friend", a: "gary", clue: "The bar is not Stars" },

      // üî• HARD CLUES
      { level: "hard", q: "Josh‚Äôs Third Favorite Movie (relates to sleeper celebrity crush)", a: "pitch perfect", clue: "The Bar is on the Opposite Side of the Street from Subway" },
      { level: "hard", q: "Josh‚Äôs Second Favorite Artist", a: "leon bridges", clue: "The Bar serves food but does not have a server" },
      { level: "hard", q: "Josh‚Äôs Sleeper Celebrity Crush", a: "anna kendrick", clue: "The Bar is not Cocktail Club" },
      { level: "hard", q: "Josh‚Äôs Second Favorite Professional Team", a: "los angeles lakers", clue: "The Bar is not Bourbon and Bubbles" },
      { level: "hard", q: "Josh‚Äôs Favorite Pizza at his Second Favorite Pizza Place", a: "pacific rim", clue: "The Bar is not Republic" },
      { level: "hard", q: "How Many Surgeries did Josh have in High School? (numerical answer)", a: "4", clue: "The bar has only one of the letters that is given to a contestant on the final round of Wheel of Fortune" },
      { level: "hard", q: "Josh‚Äôs Maiden Name", a: "allaire", clue: "The bar has 2 different vowels in the name" },
      { level: "hard", q: "Josh‚Äôs Bench Press 1 Rep Max (requires 2.5 lb plates)", a: "320", clue: "The bar is not Vintage Lounge" },
      { level: "hard", q: "Number of Guys Josh has Kissed", a: "4", clue: "The bar is not Uptown Social" },
      { level: "hard", q: "Josh‚Äôs Favorite NFL Player", a: "devonta smith", clue: "The bar has a good view" },
      { level: "hard", q: "Josh‚Äôs Favorite Seasonal Drink", a: "eggnog", clue: "The bar has games" },
    ];

    // Load saved progress or start fresh
    const progress = JSON.parse(localStorage.getItem("barcrawl-progress") || "{}");

    function saveProgress() {
      localStorage.setItem("barcrawl-progress", JSON.stringify(progress));
    }

    function renderQuestions() {
      const levels = { easy: "easy", medium: "medium", hard: "hard" };
      const counters = { easy: 1, medium: 1, hard: 1 };

      questions.forEach((item, index) => {
        const section = document.getElementById(levels[item.level]);

        const btn = document.createElement('button');
        btn.textContent = `Question ${counters[item.level]++}`;
        btn.className = 'question-btn';

        const clueDiv = document.createElement('div');
        clueDiv.className = 'clue';
        clueDiv.id = `clue-${index}`;

        // Ensure progress tracking
        if (!(index in progress)) {
          progress[index] = { attempts: 0, solved: false, locked: false };
        }

        const state = progress[index];
        if (state.solved) {
          clueDiv.textContent = "üïµÔ∏è Clue: " + item.clue;
          clueDiv.style.display = 'block';
          btn.disabled = true;
          btn.style.backgroundColor = '#ccc';
        } else if (state.locked) {
          clueDiv.textContent = "üö´ You‚Äôve used all 3 attempts. This question is now locked.";
          clueDiv.style.color = "red";
          clueDiv.style.display = 'block';
          btn.disabled = true;
          btn.style.backgroundColor = '#f8d7da';
        }

        btn.addEventListener('click', () => {
          if (state.locked || state.solved) return;

          if (state.attempts >= 3) {
            alert("‚ùå You‚Äôve used all 3 attempts for this question.");
            return;
          }

          const userAnswer = prompt(item.q);
          if (!userAnswer) return;

          const cleaned = userAnswer.trim().toLowerCase();
          const correct = item.a.toLowerCase();

          if (cleaned === correct) {
            state.solved = true;
            clueDiv.textContent = "üïµÔ∏è Clue: " + item.clue;
            clueDiv.style.display = 'block';
            btn.disabled = true;
            btn.style.backgroundColor = '#ccc';
          } else {
            state.attempts++;
            if (state.attempts >= 3) {
              state.locked = true;
              btn.disabled = true;
              btn.style.backgroundColor = '#f8d7da';
              clueDiv.textContent = "üö´ You‚Äôve used all 3 attempts. This question is now locked.";
              clueDiv.style.color = "red";
              clueDiv.style.display = 'block';
            } else {
              alert(`‚ùå Incorrect answer. ${3 - state.attempts} attempt(s) remaining.`);
            }
          }
          saveProgress();
        });

        section.appendChild(btn);
        section.appendChild(clueDiv);
      });

      // Save initial structure
      saveProgress();
    }

    renderQuestions();
  });
</script>

</body>
</html>
